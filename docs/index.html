<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ESS 330 Project Proposals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


<meta name="citation_title" content="ESS 330 Project Proposals">
<meta name="citation_author" content="Sarah Culhane">
<meta name="citation_author" content="Archer Goodman">
<meta name="citation_author" content="McKenna Cooper">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=Global changes in coastal wetlands of importance for non-breeding shorebirds;,citation_author=Carlos Santos;,citation_author=Teresa Catry;,citation_author=Maria Dias;,citation_author=José Granadeiro;,citation_publication_date=2022-10;,citation_cover_date=2022-10;,citation_year=2022;,citation_doi=10.1016/j.scitotenv.2022.159707;,citation_volume=858;,citation_journal_title=Science of The Total Environment;">
<meta name="citation_reference" content="citation_title=Shorebird ecology, conservation, and management;,citation_author=Mark A Colwell;,citation_publication_date=2010;,citation_cover_date=2010;,citation_year=2010;">
<meta name="citation_reference" content="citation_title=Associations with landscape and local-scale wetland habitat conditions vary among migratory shorebird species during stopovers;,citation_abstract=Wetlands provide many ecosystem services and functions, including critical stopover habitat for numerous migratory bird species. Yet, loss and degradation of wetlands due to land use and land cover changes have greatly reduced wetland extent worldwide, leading to declines of many migratory shorebirds globally. In the Western Hemisphere, wetlands of the North American Great Plains provide important stopover habitat for shorebirds; however, much remains to be learned about shorebird habitat use during stopovers in this region, including species-specific associations with landscape-scale wetland availability and characteristics of individual wetlands. To improve understanding of shorebird habitat use during migration, we conducted shorebird surveys at &amp;amp;amp;gt; 14 000 wetlands throughout Oklahoma, USA, from 2007 to 2009. For 16 shorebird species, we analyzed associations between observed abundance and wetland variables, including within-wetland characteristics and availability of wetlands at multiple spatial scales surrounding survey locations. We found that the scale at which observed abundance of shorebirds was associated with wetland extent varied among species; 10 species responded most strongly to wetland extent at the 500 m scale, but 5 species and 1 species responded most strongly at 1000 and 2000 m scales, respectively. Observed abundance for most species was generally associated with higher wetland density at broad scales, presence of extensive shallow water, more usable area, and limited vegetation within wetlands, yet there was considerable interspecific variation in the strength and in some cases direction of effects of these within-wetland characteristics. This interspecies variability highlights the importance of conserving a variety of wetland types with differing characteristics that support the entire shorebird community during migration. By informing optimal habitat requirements for shorebirds during a critical stage of their annual cycle, knowledge gained about species-specific habitat needs from studies like ours can assist with development of conservation and management strategies that contribute to halting and reversing global shorebird declines.;,citation_author=Jared A. Elmore;,citation_author=David W. Londe;,citation_author=Craig A. Davis;,citation_author=Samuel D. Fuhlendorf;,citation_author=Scott R. Loss;,citation_publication_date=2024;,citation_cover_date=2024;,citation_year=2024;,citation_fulltext_html_url=https://nsojournals.onlinelibrary.wiley.com/doi/abs/10.1002/wlb3.01132;,citation_issue=2;,citation_doi=https://doi.org/10.1002/wlb3.01132;,citation_volume=2024;,citation_journal_title=Wildlife Biology;">
<meta name="citation_reference" content="citation_title=RIPARIAN ZONES INCREASE REGIONAL SPECIES RICHNESS BY HARBORING DIFFERENT, NOT MORE, SPECIES;,citation_abstract=Riparian zones are habitats of critical conservation concern worldwide, as they are known to filter agricultural contaminants, buffer landscapes against erosion, and provide habitat for high numbers of species. Here we test the generality of the notion that riparian habitats harbor more species than adjacent upland habitats. Using previously published data collected from seven continents and including taxa ranging from Antarctic soil invertebrates to tropical rain forest lianas and primates, we show that riparian habitats do not harbor higher numbers of species, but rather support significantly different species pools altogether. In this way, riparian habitats increase regional (γ-) richness across the globe by &amp;amp;amp;gt;50%, on average. Thus conservation planners can easily increase the number of species protected in a regional portfolio by simply including a river within terrestrial biodiversity reserves. Our analysis also suggests numerous possible improvements for future studies of species richness gradients across riparian and upland habitats. First, &amp;lt;15% of the studies in our analysis included estimates of more than one taxonomic group of interest. Second, within a given taxonomic group, studies employed variable methodologies and sampling areas in pursuit of richness and turnover estimates. Future analyses of species richness patterns in watersheds should aim to include a more comprehensive suite of taxonomic groups and should measure richness at multiple spatial scales.;,citation_author=John L. Sabo;,citation_author=Ryan Sponseller;,citation_author=Mark Dixon;,citation_author=Kris Gade;,citation_author=Tamara Harms;,citation_author=Jim Heffernan;,citation_author=Andrea Jani;,citation_author=Gabrielle Katz;,citation_author=Candan Soykan;,citation_author=James Watts;,citation_author=Jill Welter;,citation_publication_date=2005;,citation_cover_date=2005;,citation_year=2005;,citation_fulltext_html_url=https://esajournals.onlinelibrary.wiley.com/doi/abs/10.1890/04-0668;,citation_issue=1;,citation_doi=https://doi.org/10.1890/04-0668;,citation_volume=86;,citation_journal_title=Ecology;">
<meta name="citation_reference" content="citation_title=Macroinvertebrates as indicators of stream health;,citation_author=Brook S. McDonald;,citation_author=Gary W. Mullins;,citation_author=Stuart Lewis;,citation_publication_date=1991-11;,citation_cover_date=1991-11;,citation_year=1991;,citation_issue=8;,citation_doi=10.2307/4449370;,citation_volume=53;,citation_journal_title=The American Biology Teacher;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">ESS 330 Project Proposals</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Sarah Culhane </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Archer Goodman </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">McKenna Cooper </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Colorado State University
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Other Formats</div><div class="quarto-title-meta-contents"><p><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></p></div><div class="quarto-title-meta-contents"><p><a href="index-meca.zip" data-meca-link="true"><i class="bi bi-archive"></i>MECA Bundle</a></p></div></div></div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#proposal-1" id="toc-proposal-1" class="nav-link active" data-scroll-target="#proposal-1">Proposal #1</a></li>
  <li><a href="#proposal-2" id="toc-proposal-2" class="nav-link" data-scroll-target="#proposal-2">Proposal #2</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="proposal-1" class="level1">
<h1>Proposal #1</h1>
<p><strong>Title:</strong> Testing for a relationship between migratory shorebird abundance during stopovers at wetland habitats and anthropogenic externalities on local-scale wetland conditions.</p>
<p><strong>Justification:</strong> Wetlands provide critical stopover habitat for many migratory bird species to rest and replenish energy reserves needed for them to complete their migration. In the Northern Great plains, wetlands are particularly important for migratory shorebirds, providing stopover for birds that breed in northern parts of the Great Plains, the boreal forest, and Arctic tundra. However, the Great Plains has experienced a large amount of wetland loss from numerous anthropogenic factors, with agricultural conversion having the largest impact (Elmore et al., 2024). Currently, shorebird populations are declining, and while this is a widespread phenomenon, migratory species, most of which breed in the arctic and subarctic regions during the boreal summer and migrate to to temporal and tropical areas during the non-breeding season, are being hit harder than most (Conwell, 2010). The ultimate cause of this is unknown, but what is known is that humans have expanded their use of coastal ecosystems in recent years, impacting shorebirds in numerous ways, such as the claiming of intertidal and supratidal spaces. (Santos et al., 2023), warranting more research on the impact of anthropogenic externalities on shorebird abundance.</p>
<p><strong>Research Objective/question/hypothesis:</strong> In this study, I aim to test the hypothesis that there is a relationship between local anthropogenic forces surrounding wetlands in the Northern Great Plains and the abundance of migratory shorebird species within those wetlands.</p>
<p><strong>Proposed Methods:</strong> To carry out this study, I plan to use data from “Associations with landscape and local-scale wetland habitat conditions vary among migratory shorebird species during stopovers”. For this study, researchers used shorebird abundance data for 16 different shorebird species by collecting surveys on wetlands during spring and fall migration from fall 2007 to spring 2009 in ten counties in north-central Oklahoma, USA, which was published to dryad. Their goal was to identify and compare the associate of observed abundance and with within-wetland characteristics to gain a better understanding of habitat requirement. For this project, I plan to cut down the data to just the year 2009 and use surrounding wetland characteristics (surrounding slope surrounding habitat, land context, ect). The data set includes individual species abundance, total migrating shorebirds (i.e., excluding locally breeding species) abundance, and shorebird abundance. I plan to look at only shorebird abundance to make things easier. For variables that have numerical data, I plan to use a t-test to compare the means, seeing if I can predict whether any predictor variables are statistically significant. Additionally, I plan on using the chi-squared to test to determine if any predictor variables are independent of shorebird abundance.</p>
<p><br>
<strong>Expected Outcomes:</strong> I expect that there will be a negative relationship between anthropogenic forces and shorebird abundance, with shorebird abundance decreasing as surrounding wetland anthropogenic forces, such as cultivation and infrastructure, increases</p>
</section>
<section id="proposal-2" class="level1">
<h1>Proposal #2</h1>
<p><strong>Title:</strong> Assessing the influence of riparian zones on taxonomic richness in Crater Lake National Park</p>
<p><strong>Justification:</strong> Riparian zones are integral to the health of freshwater ecosystems, providing essential ecosystem services and contributing greatly to their adjacent ecosystems despite representing a narrow portion of the landscape.They are often associated with better watershed health through their ability to buffer pollutants, protect against erosion, and provide habitat for a variety of species, increasing species richness (Sabo et al., 2005). In freshwater ecosystems, benthic macroinvertebrates are frequently used in water quality monitoring as indicators of health, as many species are sensitive to pollution or habitat modification. Because of their tolerance to pollution, the presence and dominance of macroinvertebrates in orders Ephemeroptera (mayflies), Plecoptera (stoneflies), and Trichoptera (caddisflies), often referred to as EPT, generally indicates good water health. The dominance of macroinvertebrates tolerant to pollutants, such as leeches and midge larva, indicates poor water health (McDonald et al., 1991). However, riparian zones are constantly being threatened by humans, and the degradation of them could prove harmful to their adjacent ecosystems, in part due to their influence on taxonomic richness, facilitating the need for more research on the area.</p>
<p><strong>Research Objective/question/hypothesis:</strong> In this study, I aim to test the influence of riparian zones on macroinvertebrate taxonomic richness and distribution in lakes and ponds at Crater Lake National Park. Intact riparian zones are generally associated with higher macroinvertebrate populations and diversity and healthier waterbodies, and a high abundance of benthic macroinvertebrates orders Ephemeroptera (mayflies), Plecoptera (stoneflies), and Trichoptera (caddisflies). Because of this, I hypothesize that waterbodies with more intact riparian zones will have a higher number of EPT benthic macroinvertebrates than water bodies with less intact riparian zones.&nbsp;</p>
<p><strong>Proposed methods:</strong> For this project, I propose looking at two datasets provided by the Klamath Lakes Monitoring Data Package 2013-2019, which contains monitoring data for lakes and ponds at Crater Lake NP, Lassen Volcanic NP, and Redwood NSP. The datasets I am planning on using are InvertSpecies.csv, which holds data about species detected during invertebrate surveys, and RiparianCover.csv, which holds data about riparian cover at 15 semi equidistant points around the lake. Looking at both datasets, they both have the columns “Unit_Code”, “Park_Name”, “Lake_Code”, and “Start_date”, with a lot of the same information in the columns for both datasets. This, along with the fact that both datasets are part of the same data package and overarching project, tells me that the area that the data was collected was the same for both datasets, with some exceptions where data was collected for one set but not the other. To narrow down the scope, I plan to use just the data from Crater Lake National Park in the year 2018 in both data sets. As for the invertebrate dataset, I plan on filtering the data to just include the columns mentioned before as well as order and life stage, filtering the data to just invertebrates collected in the larva stage with no damage. I plan on cutting the riparian vegetation data to the appropriate columns as well and joining the two datasets, looking at each lake code and performing the appropriate tests to figure out what orders of macroinvertebrates were present in that waterbody and what the riparian cover looked like, drawing conclusions that either prove or disprove my hypothesis.</p>
<p><strong>Expected outcomes:</strong> I expect that results will support my hypothesis, disproving the null hypothesis that there is no association between benthic macroinvertebrate taxonomic richness and riparian cover in Crater Lake National Park.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>